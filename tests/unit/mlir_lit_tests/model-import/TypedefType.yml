#
# This file is distributed under the MIT License. See LICENSE.md for details.
#
# RUN: set -euo pipefail; TEMP=$(mktemp -p .); %revngpipe import-all-clift-types %s <(tar -czT /dev/null) "$TEMP"; %revngcliftopt "$TEMP" | FileCheck %s; rm -f "$TEMP"

TypeDefinitions:
  # CHECK: #my_float$def = #clift.typedef<
  # CHECK:   "/model-type/0"
  # CHECK:   as "my_float"
  # CHECK:   : !float96_t
  # CHECK: >
  - ID: 0
    Kind: TypedefDefinition
    CustomName: "my_float"
    UnderlyingType:
      Kind: PrimitiveType
      PrimitiveKind: Float
      Size: 12

  # CHECK: #my_generic$def = #clift.typedef<
  # CHECK:   "/model-type/1"
  # CHECK:   as "my_generic"
  # CHECK:   : !generic8_t
  # CHECK: >
  - ID: 1
    Kind: TypedefDefinition
    CustomName: "my_generic"
    UnderlyingType:
      Kind: PrimitiveType
      PrimitiveKind: Generic
      Size: 1

  # CHECK: #my_int$def = #clift.typedef<
  # CHECK:   "/model-type/2"
  # CHECK:   as "my_int"
  # CHECK:   : !int64_t
  # CHECK: >
  - ID: 2
    Kind: TypedefDefinition
    CustomName: "my_int"
    UnderlyingType:
      Kind: PrimitiveType
      PrimitiveKind: Signed
      Size: 8

  # CHECK: #my_number$def = #clift.typedef<
  # CHECK:   "/model-type/3"
  # CHECK:   as "my_number"
  # CHECK:   : !number32_t
  # CHECK: >
  - ID: 3
    Kind: TypedefDefinition
    CustomName: "my_number"
    UnderlyingType:
      Kind: PrimitiveType
      PrimitiveKind: Number
      Size: 4

  # CHECK: #my_pon$def = #clift.typedef<
  # CHECK:   "/model-type/4"
  # CHECK:   as "my_pon"
  # CHECK:   : !pointer_or_number16_t
  # CHECK: >
  - ID: 4
    Kind: TypedefDefinition
    CustomName: "my_pon"
    UnderlyingType:
      Kind: PrimitiveType
      PrimitiveKind: PointerOrNumber
      Size: 2

  # CHECK: #my_uint$def = #clift.typedef<
  # CHECK:   "/model-type/5"
  # CHECK:   as "my_uint"
  # CHECK:   : !uint64_t
  # CHECK: >
  - ID: 5
    Kind: TypedefDefinition
    CustomName: "my_uint"
    UnderlyingType:
      Kind: PrimitiveType
      PrimitiveKind: Unsigned
      Size: 8

  # CHECK: #my_void$def = #clift.typedef<
  # CHECK:   "/model-type/6"
  # CHECK:   as "my_void"
  # CHECK:   : !void
  # CHECK: >
  - ID: 6
    Kind: TypedefDefinition
    CustomName: "my_void"
    UnderlyingType:
      Kind: PrimitiveType
      PrimitiveKind: Void

  # CHECK: !my_float = !clift.defined<
  # CHECK:   #my_float$def
  # CHECK: >
  # CHECK: !my_generic = !clift.defined<
  # CHECK:   #my_generic$def
  # CHECK: >
  # CHECK: !my_int = !clift.defined<
  # CHECK:   #my_int$def
  # CHECK: >
  # CHECK: !my_number = !clift.defined<
  # CHECK:   #my_number$def
  # CHECK: >
  # CHECK: !my_pon = !clift.defined<
  # CHECK:   #my_pon$def
  # CHECK: >
  # CHECK: !my_uint = !clift.defined<
  # CHECK:   #my_uint$def
  # CHECK: >
  # CHECK: !my_void = !clift.defined<
  # CHECK:   #my_void$def
  # CHECK: >
